generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model gdpr_data {
  dataID                    Int                        @id
  source                    String?                    @db.VarChar(25)
  dataConservation          Int?
  isPersonal                Boolean?
  personalDataCategory      Int?
  isModifiable              Boolean?
  dataTypeID                Int?
  gdpr_datatype             gdpr_datatype?             @relation(fields: [dataTypeID], references: [dataTypeID], onDelete: NoAction, onUpdate: NoAction, map: "gdpr_data_ibfk_1")
  gdpr_personaldatacategory gdpr_personaldatacategory? @relation(fields: [personalDataCategory], references: [PDCategoryID], onDelete: NoAction, onUpdate: NoAction, map: "gdpr_data_ibfk_2")
  gdpr_datarequest          gdpr_datarequest[]

  @@index([personalDataCategory], map: "personalDataCategory")
  @@index([dataTypeID], map: "gdpr_data_ibfk_1")
}

model gdpr_datarequest {
  DataRequestID          Int                      @id
  claim                  String?                  @db.VarChar(250)
  claimDate              DateTime?                @db.DateTime(0)
  newValue               String?                  @db.VarChar(250)
  dataReqType            String?                  @db.VarChar(25)
  dataSubject            Int?
  dataID                 Int?
  gdpr_data              gdpr_data?               @relation(fields: [dataID], references: [dataID], onDelete: NoAction, onUpdate: NoAction, map: "gdpr_datarequest_ibfk_1")
  gdpr_datasubject       gdpr_datasubject?        @relation(fields: [dataSubject], references: [dataSubjectID], onDelete: NoAction, onUpdate: NoAction, map: "gdpr_datarequest_ibfk_2")
  gdpr_datarequestanswer gdpr_datarequestanswer[]

  @@index([dataID], map: "data")
  @@index([dataSubject], map: "dataSubject")
}

model gdpr_datarequestanswer {
  dataRequestAnswerid Int               @id
  answer              Boolean?
  justification       String?           @db.VarChar(150)
  datarequest         Int?
  processedAnswer     Boolean?          @default(false)
  gdpr_datarequest    gdpr_datarequest? @relation(fields: [datarequest], references: [DataRequestID], onDelete: NoAction, onUpdate: NoAction, map: "gdpr_datarequestanswer_ibfk_1")

  @@index([datarequest], map: "datarequest")
}

model gdpr_datasubject {
  dataSubjectID            Int                       @id
  data_subject_id_ref      Int                       @default(0)
  dsCategory               String?                   @db.VarChar(40)
  tutor                    Int?
  dataSubjectCategoryID    Int?
  gdpr_datasubjectcategory gdpr_datasubjectcategory? @relation(fields: [dataSubjectCategoryID], references: [dsCategoryID], onDelete: NoAction, onUpdate: NoAction, map: "gdpr_datasubject_gdpr_datasubjectcategory_dsCategoryID_fk")
  gdpr_datarequest         gdpr_datarequest[]

  @@index([dsCategory], map: "const1")
  @@index([data_subject_id_ref], map: "const2")
  @@index([dataSubjectCategoryID], map: "gdpr_datasubject_gdpr_datasubjectcategory_dsCategoryID_fk")
}

model gdpr_datasubjectcategory {
  dsCategoryName   String             @db.VarChar(25)
  locationID       String?            @db.VarChar(40)
  dsCategoryID     Int                @id
  gdpr_datasubject gdpr_datasubject[]
}

model gdpr_datatype {
  dataTypeName String      @db.VarChar(40)
  dataTypeID   Int         @id
  gdpr_data    gdpr_data[]
}

model gdpr_personaldatacategory {
  PDCategoryID         Int         @id
  personalDataCategory String?     @db.VarChar(150)
  gdpr_data            gdpr_data[]
}

model gdpr_provider {
  providerID   Int     @id @default(autoincrement())
  prName       String  @db.VarChar(40)
  username     String? @db.VarChar(25)
  prAdress     String  @db.VarChar(250)
  prPostalCode String? @db.VarChar(40)
  city         String? @db.VarChar(40)
  prPhone      String? @db.VarChar(40)
  prEmail      String? @db.VarChar(40)
  country      String? @db.VarChar(50)
}

model gdpr_tutor {
  tutorID   Int     @id @default(autoincrement())
  tutorName String  @db.VarChar(40)
  username  String? @db.VarChar(25)
  country   String? @db.VarChar(100)

  @@index([country], map: "country")
}
